<!doctype html><title>Example of firework.js</title>
<script src="../vendor/tquery-bundle.js"></script>

<script src="../../src/core.js"></script>
<script src="../../src/emitter.js"></script>
<script src="../../src/particle.js"></script>
<script src="../../src/effect.js"></script>
<script src="../../src/spawner.js"></script>
<script src="../../src/shape.js"></script>
<script src="../../src/vector.js"></script>

<script src="../plugins/fireworks.bindtriggerdomeventsto.js"></script>

<script src="../plugins/spawner.steadyrate.js"></script>
<script src="../plugins/shape.box.js"></script>
<script src="../plugins/shape.sphere.js"></script>
<script src="../plugins/shape.point.js"></script>

<script src="../plugins/effect.friction.js"></script>
<script src="../plugins/effect.lifetime.js"></script>
<script src="../plugins/effect.position.js"></script>
<script src="../plugins/effect.velocity.js"></script>
<script src="../plugins/effect.acceleration.js"></script>
<script src="../plugins/effect.radialvelocity.js"></script>
<script src="../plugins/effect.randomvelocitydrift.js"></script>
<script src="../plugins/effect.rendertocanvas.js"></script>
<script src="../plugins/effect.rendertothreejsobject3d.js"></script>

<!-- for sound -->
<script src="vendor/webaudio.js"></script>

<script src="../flamethrower/tremulousparticlesloader.js"></script>

<script src="./comboemitter.js"></script>
<script src="./comboemitter_flamethrower.js"></script>

<body><script>
	var world	= tQuery.createWorld().boilerplate().start();
	//world.tRenderer().setClearColorHex( 0x00bbff, world.tRenderer().getClearAlpha() );
	world.tRenderer().setClearColorHex( 0x000000, world.tRenderer().getClearAlpha() );
	// world.removetCameraControls();
	world.tCamera().position.z	= 20;

	// create the container for the comboemitter
	var container	= tQuery.createObject3D().addTo(world)
	// container.rotateX(-Math.PI/2).translateY(10)
	// container.rotateX(Math.PI/2).translateY(-10)
	// container.rotateY(-Math.PI/2).translateX(-10)

	// create a torch and add it to the container
	tQuery.createCylinder(0.55, 0.0001, 2).addTo(container)
		.geometry().rotateX(-Math.PI/2).back()
		.translateZ(2)
		.scale(2);

	var flamethrower= new Fireworks.ComboEmitter.Flamethrower(function(){
		flamethrower.start();
	});
	container.add( flamethrower.object3D() )

	document.body.addEventListener('mousedown', function(){
		flamethrower.start();
	});
	document.body.addEventListener('mouseup', function(){
		flamethrower.stop();
	});
	document.body.addEventListener('keydown', function(event){
		// if the pressed key isnt 'esc', return now
		if( event.keyCode !== 27 )	return;
		flamethrower.ungracefullStop();
	});

</script></body>











