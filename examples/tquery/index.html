<!doctype html><title>Minimal tQuery Page</title>
<script src="./tquery-bundle.js"></script>

<script src="../../src/core.js"></script>
<script src="../../src/emitter.js"></script>
<script src="../../src/particle.js"></script>
<script src="../../src/effect.js"></script>
<script src="../../src/spawner.js"></script>
<script src="../../src/plugins/effect.base.js"></script>
<script src="../../src/plugins/effect.age.js"></script>
<script src="../../src/plugins/spawner.rate.js"></script>

<script src="./fireworks.effect.tquery.js"></script>

<body><script>
	var world	= tQuery.createWorld().boilerplate().start();
	var object	= tQuery.createTorus().addTo(world);
	
	
	var emitter	= new Fireworks.Emitter({
		nParticles	: 100
	});
	emitter.setSpawnerRate();
	emitter.addEffectTquery();
	emitter.addEffectBase().addEffectAge();
	emitter.start();
	
	world.loop().hook(function(deltaTime){
		emitter.update(deltaTime);
		render(emitter);
	})
	
	function render(emitter){
		// set the fillStyle of the particles
		emitter.liveParticles().forEach(function(particle){
			var xBase	= particle.xBase;
			var xTquery	= particle.xTquery;
			var tObject3d	= xTquery.object3d.get(0);
			tObject3d.position.x	= xBase.x;
			tObject3d.position.y	= xBase.y;
			tObject3d.position.z	= xBase.z;
		});
	}


</script></body>